<div class="min-h-screen bg-[#FDFBF7] py-8 px-4">
  <div class="max-w-2xl mx-auto">
    
    <%# --- „Éò„ÉÉ„ÉÄ„Éº --- %>
    <div class="flex justify-between items-end mb-8">
      <div>
        <h1 class="text-2xl font-bold text-indigo-950 flex items-center gap-2">
          <span>üìö</span> ÂÖ®Ë®òÈå≤„É™„Çπ„Éà
        </h1>
        <p class="text-stone-500 text-sm mt-1">„Åô„Åπ„Å¶„ÅÆÁùÄÁî®Â±•Ê≠¥ÔºàÊñ∞„Åó„ÅÑÈ†ÜÔºâ</p>
      </div>
      
      <%= link_to new_actual_outfit_path, class: "flex items-center gap-2 bg-amber-700 hover:bg-amber-800 text-white font-bold py-2 px-4 rounded-full shadow-lg transition transform hover:scale-105" do %>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
        <span>Ë®òÈå≤„Åô„Çã</span>
      <% end %>
    </div>

    <%# --- „É™„Çπ„ÉàË°®Á§∫ --- %>
    <div class="space-y-6">
      <% @actual_outfits.order(worn_on: :desc, created_at: :desc).each do |outfit| %>
        
        <%# „Ç´„Éº„ÉâÊú¨‰Ωì %>
        <div class="bg-white rounded-2xl shadow-md border border-stone-100 overflow-hidden hover:shadow-xl transition duration-300 group">
          <div class="flex flex-col sm:flex-row">
            
            <%# --- Â∑¶ÂÅ¥ÔºöÂÜôÁúü„Ç®„É™„Ç¢ --- %>
            <div class="sm:w-1/3 h-48 sm:h-auto relative bg-indigo-50">
              <% if outfit.snapshot.attached? %>
                <%= cl_image_tag outfit.snapshot.key, class: "w-full h-full object-cover transition duration-700 group-hover:scale-110" %>
              <% else %>
                <div class="w-full h-full flex flex-col items-center justify-center text-indigo-200">
                  <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                  <span class="text-xs font-bold">No Photo</span>
                </div>
              <% end %>
              
              <%# Êó•‰ªò„Éê„ÉÉ„Ç∏ (ÂÜôÁúü„ÅÆ‰∏ä„Å´Èáç„Å≠„Çã) %>
              <div class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-sm border border-stone-100">
                <p class="text-xs font-bold text-stone-500 uppercase"><%= outfit.worn_on.strftime("%b") %></p>
                <p class="text-xl font-bold text-indigo-950 leading-none"><%= outfit.worn_on.day %></p>
              </div>
            </div>

            <%# --- Âè≥ÂÅ¥ÔºöÊÉÖÂ†±„Ç®„É™„Ç¢ --- %>
            <div class="sm:w-2/3 p-6 flex flex-col justify-between">
              <div>
                <div class="flex justify-between items-start mb-2">
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-50 text-indigo-700">
                    <%# 4Âå∫ÂàÜÂêç„ÇíË°®Á§∫ (Êó•Êú¨Ë™ûÂ§âÊèõ„ÅØ„Éò„É´„Éë„ÉºÊé®Â•®„Å†„ÅåÁ∞°ÊòìÁöÑ„Å´Ë°®Á§∫) %>
                    <%= ActualOutfitsController::TIME_SLOTS[outfit.time_slot]&.split('(')&.first || outfit.time_slot %>
                    
                    <%# Ë©≥Á¥∞ÊôÇÈñì„Åå„ÅÇ„Çå„Å∞Ë°®Á§∫ %>
                    <% if outfit.worn_time.present? %>
                      <span class="ml-1 pl-1 border-l border-indigo-200">
                        <%= outfit.worn_time.strftime("%H:%M") %>
                      </span>
                    <% end %>
                  </span>
                </div>

                <h3 class="text-lg font-bold text-indigo-900 mb-1">
                  <%= outfit.item.name %>
                </h3>

                <% if outfit.contact %>
                  <p class="text-sm text-stone-600 flex items-center gap-1 mb-3">
                    <span class="text-amber-600">üë§</span>
                    ‰ºö„Å£„Åü‰∫∫: <span class="font-bold"><%= outfit.contact.name %></span>
                  </p>
                <% end %>

                <% if outfit.impression.present? %>
                  <p class="text-sm text-stone-500 bg-[#FDFBF7] p-3 rounded-lg border border-stone-100 italic">
                    "<%= truncate(outfit.impression, length: 50) %>"
                  </p>
                <% end %>
              </div>

              <div class="flex justify-end gap-3 mt-4 pt-4 border-t border-stone-100">
                <%= link_to edit_actual_outfit_path(outfit), class: "text-sm font-bold text-indigo-600 hover:text-indigo-800 transition" do %>
                  Á∑®ÈõÜ
                <% end %>
                <%= button_to "ÂâäÈô§", actual_outfit_path(outfit), method: :delete, form: { data: { turbo_confirm: "Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" } }, class: "text-sm font-bold text-stone-400 hover:text-red-600 transition bg-transparent border-0 cursor-pointer" %>
              </div>
            </div>
            
          </div>
        </div>
      <% end %>

      <% if @actual_outfits.empty? %>
        <div class="text-center py-16 bg-white rounded-2xl border border-dashed border-stone-300">
          <p class="text-stone-400 mb-4">„Åæ„Å†Ë®òÈå≤„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
          <%= link_to "ÊúÄÂàù„ÅÆË®òÈå≤„Çí‰Ωú„Çã", new_actual_outfit_path, class: "text-amber-700 font-bold hover:underline" %>
        </div>
      <% end %>
    </div>

    <div class="mt-8 text-center">
      <%= link_to "„Ç´„É¨„É≥„ÉÄ„Éº„Å´Êàª„Çã", timeline_actual_outfits_path, class: "inline-block px-6 py-3 bg-white border border-stone-300 rounded-full text-stone-600 font-bold hover:bg-stone-50 transition shadow-sm" %>
    </div>
  </div>
</div>